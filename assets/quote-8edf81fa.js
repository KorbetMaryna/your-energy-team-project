import{a as _,i as f}from"./vendor-09c79f2e.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();function E(t){const n=document.querySelector(".loader-container");t&&n.classList.remove("hidden"),n.classList.add("hidden")}document.addEventListener("DOMContentLoaded",function(){E(!0);const t=window.location.pathname.split("/").pop();document.querySelectorAll(".header-nav-list-item a").forEach(function(o){const s=o.getAttribute("href").split("/").pop();t===s||t===""&&s==="index.html"?(o.classList.add("header-nav-current"),E(!1)):(o.classList.remove("header-nav-current"),E(!1))})});(()=>{const t=document.querySelector(".js-menu-container"),n=document.querySelector(".js-open-menu"),o=document.querySelector(".js-close-menu"),s=()=>{const a=n.getAttribute("aria-expanded")==="true"||!1;n.setAttribute("aria-expanded",!a),t.classList.toggle("is-open")};n.addEventListener("click",s),o.addEventListener("click",s),window.matchMedia("(min-width: 768px)").addEventListener("change",a=>{a.matches&&(t.classList.remove("is-open"),n.setAttribute("aria-expanded",!1))})})();const q=document.querySelector(".js-tiles-category-list");let b=null;window.onload=function(){q?b=document.getElementsByClassName("exercises-tiles-category-list"):b=document.getElementsByClassName("fav-workouts-list");for(let t=0;t<b.length;t+=1)b[t].addEventListener("click",function(o){const s=q?o.target.closest(".exercises-category-tile-button"):o.target.closest(".fav-workouts-start-button"),a=q?o.target.closest(".exercises-category-tile-item"):o.target.closest(".fav-workouts-list-item");if(s){let w=function(e){const l=document.getElementById("exerciseDetails");let r=null;e.gifUrl?r=`<div class="main-modal__gif-wrapper">
            <img class="gif" src="${e.gifUrl}" alt="Exercise GIF">
            <div class="gif-overlay"></div>
            </div>`:r=`<div class="main-modal__gif-wrapper">
            <img class="main-modal__gif" src="https://i.ibb.co/ZfpKSXz/depositphotos-197890504-stock-illustration-vector-man-engaged-gym.webp" alt="depositphotos-197890504-stock-illustration-vector-man-engaged-gym" alt="Exercise IMG">
            <div class="main-modal__gif-overlay"></div>
            </div>`;const p=`<p class='main-modal__card-title'>${e.name.charAt(0).toUpperCase()+e.name.slice(1)}</p>`,m=x(Math.round(e.rating*10)/10),v=`<div class='main-modal__rating-container'>
          <span class="main-modal__rating">${e.rating.toString().includes(".")?Math.round(e.rating*10)/10:e.rating+".0"}</span>
          ${m}
          </div>`,g=`<div class="main-modal__details-container">
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Target</p>
          <p class="main-modal__details-info">${e.target.charAt(0).toUpperCase()+e.target.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title body-part">Body Part</p>
          <p class="main-modal__details-info">${e.bodyPart.charAt(0).toUpperCase()+e.bodyPart.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Equipment</p>
          <p class="main-modal__details-info">${e.equipment.charAt(0).toUpperCase()+e.equipment.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Popular</p>
          <p class="main-modal__details-info">${e.popularity}</p>
          </div>
          </div>
          <div class="main-modal__details-wrapper main-modal__calories">
          <p class="main-modal__details-title">Burned Calories</p>
          <p class="main-modal__details-info">${e.burnedCalories+"/3 min"}</p>
          </div>`,y=`<div class="main-modal__description">${e.description}</div>`,I=`<div class="main-modal__btns-wrapper">
          <button class="main-modal__btn main-modal__fav-btn" id="fav-btn">
          <span class="main-modal__btn-text main-modal__fav-btn-text">Add to favorites</span>
          <svg class="main-modal__heart-icon" aria-label="logo icon">
          <use href="./img/icons.svg#icon-heart"></use>
          </svg>
          </button>
          <button class="main-modal__btn main-modal__rating-btn">
          <span class="main-modal__btn-text">Give a rating</span>
          </button>
          </div>`;l.innerHTML=`${r+`<div class="main-modal__content-container">${`<div class="main-modal__content-wrapper">${p+v+g+y} </div> ${I}`}</div>`}`},x=function(e){const l=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon main-modal__colored-star">
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`,r=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon">
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`;let p="",m=Math.floor(e),v=e-m;for(let g=0;g<5;g++)if(g<m)p+=l;else if(g===m&&v>0){const y=Math.round(v*100);p+=`<div class="main-modal__star-wrapper" style="mask-image: linear-gradient(90deg, #EEA10C ${y}%, rgba(244, 244, 244, 0.2) ${y}%); -webkit-mask-image: linear-gradient(90deg, #EEA10C ${y}%, rgba(244, 244, 244, 0.2) ${y}%);"><svg class="main-modal__star-icon main-modal__colored-star" >
              <use href="./img/icons.svg#icon-star"></use>
              </svg></div>`}else p+=r;return`${p}`};const i=document.getElementById("myModal"),u=document.getElementsByClassName("main-modal__close")[0],S=document.querySelector("body");let d=localStorage.getItem("savedExercises")?JSON.parse(localStorage.getItem("savedExercises")):[];u&&(u.onclick=function(){i.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto"}),window.onclick=function(e){e.target==i&&(i.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto")};const L=a.dataset.id;i.style.display="flex",S.style.overflow="hidden";const c=`https://your-energy.b.goit.study/api/exercises/${L}`;_.get(c).then(e=>{if(e)return localStorage.setItem("currentExercise",JSON.stringify(e.data)),e.data}).then(e=>{w(e);const l=document.getElementById("fav-btn");if(l){const r=d.some(m=>m._id===e._id);l.querySelector(".main-modal__heart-icon use").setAttribute("href",r?"./img/icons.svg#icon-trash":"./img/icons.svg#icon-heart"),l.querySelector(".main-modal__btn-text").textContent=r?"Remove from favorites":"Add to favorites",l.addEventListener("click",function(){const m=d.some(g=>g._id===e._id);m?d=d.filter(g=>g._id!==e._id):d.push(e),localStorage.setItem("savedExercises",JSON.stringify(d)),l.querySelector(".main-modal__btn-text").textContent=m?"Add to favorites":"Remove from favorites",l.querySelector(".main-modal__heart-icon use").setAttribute("href",m?"./img/icons.svg#icon-heart":"./img/icons.svg#icon-trash")})}}).catch(e=>{console.error("There was a problem with the Axios request:",e)})}})};f.settings({position:"topRight",transitionIn:"bounceInDown",closeOnEscape:!0});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector("#myModal");t.addEventListener("click",function(n){if(n.target.closest(".main-modal__rating-btn")){const s={backdrop:document.querySelector(".rating-backdrop"),closeButton:document.querySelector(".rating__close-btn"),submitButton:document.querySelector(".rating__submit-btn"),starsContainer:document.querySelectorAll(".rating__input"),emailInput:document.querySelector(".rating__input-email"),commentInput:document.querySelector(".rating__input-comment"),ratingValue:document.querySelector(".rating__value")};let a=null,i=JSON.parse(localStorage.getItem("currentExercise"))||{};s.ratingValue.innerHTML=i.rating.toString().includes(".")?Math.round(i.rating*10)/10:i.rating+".0";const u=()=>{a=null,s.emailInput.value="",s.commentInput.value="",Array.from(s.starsContainer).forEach((e,l)=>{const r=e.nextElementSibling.querySelector(".rating__icon-star");r.style.fill="var(--second-color-light-theme)",r.style.opacity=.2})},S=()=>{t.style.display="none",s.backdrop.classList.add("modal-open"),s.closeButton.addEventListener("click",d)},d=()=>{u(),s.backdrop.classList.remove("modal-open"),s.closeButton.removeEventListener("click",d),t.style.display="flex"},w=()=>{const c=Array.from(s.starsContainer);c.forEach((e,l)=>{const r=e.nextElementSibling.querySelector(".rating__icon-star");e===a||a&&l<c.indexOf(a)?(r.style.fill="var(--stars-color-activ)",r.style.opacity=1):(r.style.fill="var(--second-color-light-theme)",r.style.opacity=.2)})},x=c=>/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(c),L=async c=>{c.preventDefault();const e=a==null?void 0:a.id,l=parseInt(e==null?void 0:e.replace("star",""),10);if(!l||isNaN(l)){f.show({title:"Error",message:"Please add your rating"});return}if(!x(s.emailInput.value)){f.show({title:"Error",message:"Please enter a valid email address"});return}if(s.commentInput.value.length<=3){f.show({title:"Error",message:"Please leave your comment"});return}const r=`https://your-energy.b.goit.study/api/exercises/${i._id}/rating`;try{(await _.patch(r,{rate:l,email:s.emailInput.value,review:s.commentInput.value})).status===200?f.success({title:"Success",message:"Rating submitted successfully!"}):f.error({title:"Error",message:"Failed to submit rating"})}catch{f.error({title:"Error",message:"Failed to submit rating"})}d()};s.starsContainer.forEach(c=>{c.addEventListener("click",function(e){a=e.target,w()})}),s.backdrop.addEventListener("click",function(c){c.target===s.backdrop&&!c.target.closest(".rating__close-btn")&&!c.target.closest(".rating__submit-btn")&&d()}),s.closeButton.addEventListener("click",d),s.submitButton.addEventListener("click",L),document.addEventListener("keydown",c=>{c.key==="Escape"&&d()}),S()}})});const h="https://your-energy.b.goit.study/api";async function k(t,n){for(const a of Object.keys(n))n[a]===""&&delete n[a];const o=new URLSearchParams(n),{data:s}=await _(`${h}/${t}?${o}`);return E(!1),s}const N=async({page:t=1,limit:n=100}={})=>{const{data:o}=await _.get(`${h}/filters?filter=Muscles&page=${t}&limit=${n}`);return o},R=async({page:t=1,limit:n=100}={})=>{const{data:o}=await _.get(`${h}/filters?filter=Body+parts&page=${t}&limit=${n}`);return o},U=async({page:t=1,limit:n=100}={})=>{const{data:o}=await _.get(`${h}/filters?filter=Equipment&page=${t}&limit=${n}`);return o},T=async({bodyPart:t,muscle:n,equipment:o,page:s=1,limit:a=100})=>{const i=new URLSearchParams({bodypart:t,muscles:n,equipment:o,page:s,limit:a}),{data:u}=await _.get(`${h}/exercises?${i}`);return u},A=document.querySelector(".quote-wrapper");async function M(){const t=new Date().toLocaleDateString(),n=O(),o=JSON.parse(n);if(!o||o.date!=t){let{quote:s,author:a}=await P();$(s,a),B(s,a,t)}else $(o.quote,o.author)}function B(t,n,o){const s={quote:t,author:n,date:o};localStorage.setItem("quoteOfDay",JSON.stringify(s))}function O(){return localStorage.getItem("quoteOfDay")}async function P(){try{const{quote:t,author:n}=await k("quote","");return{quote:t,author:n}}catch(t){C(t.message)}}function $(t,n){const o=`<p class="quote quote-text">${t}</p>
    <p class="qoute-author">${n}</p>`;A.insertAdjacentHTML("beforeend",o)}function C(t){f.error({message:`${t}`})}M();export{N as a,R as b,U as c,T as d,C as e,k as f,E as t};
//# sourceMappingURL=quote-8edf81fa.js.map
