import{a as y,i as f}from"./vendor-09c79f2e.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&t(g)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();function S(e){const n=document.querySelector(".loader-backdrop"),a=document.querySelector(".loader-container");e&&(n.style.display="block",a.classList.remove("hidden"),document.body.style.overflow="hidden"),a.classList.add("hidden"),n.style.display="none",document.body.style.overflow=""}document.addEventListener("DOMContentLoaded",function(){S(!0);const e=window.location.pathname.split("/").pop();document.querySelectorAll(".header-nav-list-item a").forEach(function(a){const t=a.getAttribute("href").split("/").pop();e===t||e===""&&t==="index.html"?(a.classList.add("header-nav-current"),S(!1)):(a.classList.remove("header-nav-current"),S(!1))})});(()=>{const e=document.querySelector(".js-menu-container"),n=document.querySelector(".js-open-menu"),a=document.querySelector(".js-close-menu"),t=()=>{const o=n.getAttribute("aria-expanded")==="true"||!1;n.setAttribute("aria-expanded",!o),e.classList.toggle("is-open")};n.addEventListener("click",t),a.addEventListener("click",t),window.matchMedia("(min-width: 768px)").addEventListener("change",o=>{o.matches&&(e.classList.remove("is-open"),n.setAttribute("aria-expanded",!1))})})();const k=document.querySelector(".js-tiles-category-list");let w=null;window.onload=function(){k?w=document.getElementsByClassName("exercises-tiles-category-list"):w=document.getElementsByClassName("fav-workouts-list");for(let e=0;e<w.length;e+=1)w[e].addEventListener("click",function(a){const t=k?a.target.closest(".exercises-category-tile-button"):a.target.closest(".fav-workouts-start-button"),o=k?a.target.closest(".exercises-category-tile-item"):a.target.closest(".fav-workouts-list-item");if(t){let b=function(s){const c=document.getElementById("exerciseDetails");let l=null;s.gifUrl?l=`<div class="main-modal__gif-wrapper">
            <img class="gif" src="${s.gifUrl}" alt="Exercise GIF">
            <div class="gif-overlay"></div>
            </div>`:l=`<div class="main-modal__gif-wrapper">
            <img class="main-modal__gif" src="https://i.ibb.co/ZfpKSXz/depositphotos-197890504-stock-illustration-vector-man-engaged-gym.webp" alt="depositphotos-197890504-stock-illustration-vector-man-engaged-gym" alt="Exercise IMG">
            <div class="main-modal__gif-overlay"></div>
            </div>`;const u=`<p class='main-modal__card-title'>${s.name.charAt(0).toUpperCase()+s.name.slice(1)}</p>`,m=q(Math.round(s.rating*10)/10),h=`<div class='main-modal__rating-container'>
          <span class="main-modal__rating">${s.rating.toString().includes(".")?Math.round(s.rating*10)/10:s.rating+".0"}</span>
          ${m}
          </div>`,p=`<div class="main-modal__details-container">
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Target</p>
          <p class="main-modal__details-info">${s.target.charAt(0).toUpperCase()+s.target.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title body-part">Body Part</p>
          <p class="main-modal__details-info">${s.bodyPart.charAt(0).toUpperCase()+s.bodyPart.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Equipment</p>
          <p class="main-modal__details-info">${s.equipment.charAt(0).toUpperCase()+s.equipment.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Popular</p>
          <p class="main-modal__details-info">${s.popularity}</p>
          </div>
          </div>
          <div class="main-modal__details-wrapper main-modal__calories">
          <p class="main-modal__details-title">Burned Calories</p>
          <p class="main-modal__details-info">${s.burnedCalories+"/3 min"}</p>
          </div>`,v=`<div class="main-modal__description">${s.description}</div>`,I=`<div class="main-modal__btns-wrapper">
          <button class="main-modal__btn main-modal__fav-btn" id="fav-btn">
          <span class="main-modal__btn-text main-modal__fav-btn-text">Add to favorites</span>
          <svg class="main-modal__heart-icon" aria-label="logo icon">
          <use href="./img/icons.svg#icon-heart"></use>
          </svg>
          </button>
          <button class="main-modal__btn main-modal__rating-btn">
          <span class="main-modal__btn-text">Give a rating</span>
          </button>
          </div>`;c.innerHTML=`${l+`<div class="main-modal__content-container">${`<div class="main-modal__content-wrapper">${u+h+p+v} </div> ${I}`}</div>`}`},q=function(s){const c=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon main-modal__colored-star">
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`,l=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon">
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`;let u="",m=Math.floor(s),h=s-m;for(let p=0;p<5;p++)if(p<m)u+=c;else if(p===m&&h>0){const v=Math.round(h*100);u+=`<div class="main-modal__star-wrapper" style="mask-image: linear-gradient(90deg, #EEA10C ${v}%, rgba(244, 244, 244, 0.2) ${v}%); -webkit-mask-image: linear-gradient(90deg, #EEA10C ${v}%, rgba(244, 244, 244, 0.2) ${v}%);"><svg class="main-modal__star-icon main-modal__colored-star" >
              <use href="./img/icons.svg#icon-star"></use>
              </svg></div>`}else u+=l;return`${u}`};const r=document.getElementById("myModal"),g=document.getElementsByClassName("main-modal__close")[0],x=document.querySelector("body");let d=localStorage.getItem("savedExercises")?JSON.parse(localStorage.getItem("savedExercises")):[];g&&(g.onclick=function(){r.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto"}),window.onclick=function(s){s.target==r&&(r.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto")};const E=o.dataset.id;r.style.display="flex",x.style.overflow="hidden";const i=`https://your-energy.b.goit.study/api/exercises/${E}`;y.get(i).then(s=>{if(s)return localStorage.setItem("currentExercise",JSON.stringify(s.data)),s.data}).then(s=>{b(s);const c=document.getElementById("fav-btn");if(c){const l=d.some(m=>m._id===s._id);c.querySelector(".main-modal__heart-icon use").setAttribute("href",l?"./img/icons.svg#icon-trash":"./img/icons.svg#icon-heart"),c.querySelector(".main-modal__btn-text").textContent=l?"Remove from favorites":"Add to favorites",c.addEventListener("click",function(){const m=d.some(p=>p._id===s._id);m?d=d.filter(p=>p._id!==s._id):d.push(s),localStorage.setItem("savedExercises",JSON.stringify(d)),c.querySelector(".main-modal__btn-text").textContent=m?"Add to favorites":"Remove from favorites",c.querySelector(".main-modal__heart-icon use").setAttribute("href",m?"./img/icons.svg#icon-heart":"./img/icons.svg#icon-trash")})}}).catch(s=>{console.error("There was a problem with the Axios request:",s)})}})};f.settings({position:"topRight",transitionIn:"bounceInDown",closeOnEscape:!0});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#myModal");e.addEventListener("click",function(n){if(n.target.closest(".main-modal__rating-btn")){const t={backdrop:document.querySelector(".rating-backdrop"),closeButton:document.querySelector(".rating__close-btn"),submitButton:document.querySelector(".rating__submit-btn"),starsContainer:document.querySelectorAll(".rating__input"),emailInput:document.querySelector(".rating__input-email"),commentInput:document.querySelector(".rating__input-comment"),ratingValue:document.querySelector(".rating__value")};let o=null,r=JSON.parse(localStorage.getItem("currentExercise"))||{};t.ratingValue.innerHTML=r.rating.toString().includes(".")?Math.round(r.rating*10)/10:r.rating+".0";const g=()=>{o=null,t.emailInput.value="",t.commentInput.value="",Array.from(t.starsContainer).forEach(s=>{const c=s.nextElementSibling.querySelector(".rating__icon-star");c.style.fill="var(--second-color-light-theme)",c.style.opacity=.2})},x=()=>{e.style.display="none",t.backdrop.classList.add("modal-open"),t.closeButton.addEventListener("click",d)},d=()=>{g(),t.backdrop.classList.remove("modal-open"),t.closeButton.removeEventListener("click",d),e.style.display="flex",t.submitButton.removeEventListener("click",E),t.starsContainer.forEach(i=>{i.removeEventListener("click",function(s){o=s.target,b()})}),t.backdrop.removeEventListener("click",function(i){i.target===t.backdrop&&!i.target.closest(".rating__close-btn")&&!i.target.closest(".rating__submit-btn")&&d()})},b=()=>{const i=Array.from(t.starsContainer);i.forEach((s,c)=>{const l=s.nextElementSibling.querySelector(".rating__icon-star");s===o||o&&c<i.indexOf(o)?(l.style.fill="var(--stars-color-activ)",l.style.opacity=1):(l.style.fill="var(--second-color-light-theme)",l.style.opacity=.2)})},q=i=>/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(i),E=async i=>{i.preventDefault();const s=o==null?void 0:o.id,c=parseInt(s==null?void 0:s.replace("star",""),10);if(!c||isNaN(c)){f.show({message:"Please add your rating"});return}if(!q(t.emailInput.value)){f.show({message:"Please enter a valid email address"});return}if(t.commentInput.value.length<=3){f.show({message:"Please leave your comment"});return}const l=`https://your-energy.b.goit.study/api/exercises/${r._id}/rating`;try{(await y.patch(l,{rate:c,email:t.emailInput.value,review:t.commentInput.value})).status===200?f.success({message:"Rating submitted successfully!"}):f.error({title:"Error",message:"Failed to submit rating"})}catch(u){u.response.status===409?f.info({message:"Such email already exists"}):u.response.status===404?f.warning({message:"Such exercise not found"}):f.error({title:"Error",message:"Failed to submit rating"})}d()};t.starsContainer.forEach(i=>{i.addEventListener("click",function(s){o=s.target,b()})}),t.backdrop.addEventListener("click",function(i){i.target===t.backdrop&&!i.target.closest(".rating__close-btn")&&!i.target.closest(".rating__submit-btn")&&d()}),t.closeButton.addEventListener("click",d),t.submitButton.addEventListener("click",E),document.addEventListener("keydown",i=>{i.key==="Escape"&&d()}),x()}})});const _="https://your-energy.b.goit.study/api";async function C(e,n){for(const o of Object.keys(n))n[o]===""&&delete n[o];const a=new URLSearchParams(n),{data:t}=await y(`${_}/${e}?${a}`);return t}async function T(e){for(const t of Object.keys(e))e[t]===""&&delete e[t];const n=new URLSearchParams(e),{data:a}=await y(`${_}/exercises?${n}`);return a}const j=async({page:e=1,limit:n=100}={})=>{const{data:a}=await y.get(`${_}/filters?filter=Muscles&page=${e}&limit=${n}`);return a},F=async({page:e=1,limit:n=100}={})=>{const{data:a}=await y.get(`${_}/filters?filter=Body+parts&page=${e}&limit=${n}`);return a},J=async({page:e=1,limit:n=100}={})=>{const{data:a}=await y.get(`${_}/filters?filter=Equipment&page=${e}&limit=${n}`);return a},H=async({bodyPart:e,muscle:n,equipment:a,page:t=1,limit:o=100})=>{const r=new URLSearchParams({bodypart:e,muscles:n,equipment:a,page:t,limit:o}),{data:g}=await y.get(`${_}/exercises?${r}`);return g},A=document.querySelector(".quote-wrapper");async function M(){const e=new Date().toLocaleDateString(),n=B();if(N(n,e))$(n.quote,n.author);else{let{quote:a,author:t}=await O();$(a,t),P(a,t,e)}}function P(e,n,a){const t={quote:e,author:n,date:a};localStorage.setItem("quoteOfDay",JSON.stringify(t))}function B(){const e=localStorage.getItem("quoteOfDay");return JSON.parse(e)}async function O(){try{const{quote:e,author:n}=await C("quote","");return{quote:e,author:n}}catch(e){D(e.message)}}function $(e,n){const a=`<p class="quote quote-text">${e}</p>
    <p class="qoute-author">${n}</p>`;A.insertAdjacentHTML("beforeend",a)}function D(e){f.error({message:`${e}`})}function N(e,n){return!(!e||!e.quote||!e.date||e.author||e.date!=n)}M();document.addEventListener("DOMContentLoaded",function(){R(),window.addEventListener("online",function(){L(!0)}),window.addEventListener("offline",function(){L(!1)})});function R(){navigator.onLine?L(!0):L(!1)}function L(e){const n=S(!0),a=document.querySelector(".page-error-container");if(!e||n){if(!a){const t=document.createElement("div");t.classList.add("page-error-container");const o=document.createElement("p");o.textContent="Sorry, the page did not load.",t.appendChild(o),document.body.appendChild(t),document.body.classList.toggle("page-error-open")}}else a&&(a.remove(),document.body.classList.remove("page-error-open"))}export{T as a,j as b,F as c,J as d,H as e,C as f,D as g,S as t};
//# sourceMappingURL=showPageError-08cdbf8b.js.map
