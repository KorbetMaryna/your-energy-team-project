import{a as v,i as J}from"./vendor-1133ef0b.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();document.addEventListener("DOMContentLoaded",function(){const e=window.location.pathname.split("/").pop();document.querySelectorAll(".header-nav-list-item a").forEach(function(n){const t=n.getAttribute("href").split("/").pop();e===t||e===""&&t==="index.html"?n.classList.add("header-nav-current"):n.classList.remove("header-nav-current")})});function W(){const e=document.querySelector(".js-open-menu"),o=document.querySelector(".js-close-menu"),n=document.querySelector(".js-menu-container"),t=document.querySelectorAll(".js-mobile-menu-item"),s=window.location.pathname;t.forEach(p=>{s.includes(p.getAttribute("href").slice(2))&&p.classList.add("active-mobile-menu-item")}),e.addEventListener("click",()=>{n.classList.add("is-open")}),o.addEventListener("click",()=>{n.classList.remove("is-open")});const i=window.matchMedia("(min-width: 768px)"),d=p=>{p.matches&&n.classList.remove("is-open")};i.addEventListener("change",d)}W();const k="https://your-energy.b.goit.study/api";async function z(e,o){for(const s of Object.keys(o))o[s]===""&&delete o[s];const n=new URLSearchParams(o),{data:t}=await v(`${k}/${e}?${n}`);return t}async function te(e){for(const t of Object.keys(e))e[t]===""&&delete e[t];const o=new URLSearchParams(e),{data:n}=await v(`${k}/exercises?${o}`);return n}const oe=async({page:e=1,limit:o=100}={})=>{const{data:n}=await v.get(`${k}/filters?filter=Muscles&page=${e}&limit=${o}`);return n},ne=async({page:e=1,limit:o=100}={})=>{const{data:n}=await v.get(`${k}/filters?filter=Body+parts&page=${e}&limit=${o}`);return n},ae=async({page:e=1,limit:o=100}={})=>{const{data:n}=await v.get(`${k}/filters?filter=Equipment&page=${e}&limit=${o}`);return n},se=async({bodyPart:e,muscle:o,equipment:n,page:t=1,limit:s=100})=>{const i=new URLSearchParams({bodypart:e,muscles:o,equipment:n,page:t,limit:s}),{data:d}=await v.get(`${k}/exercises?${i}`);return d},P={colorSuccess:"#0ecc2e",colorError:"#f58e82",colorInfo:"#9dfab5"};function g(e,o){let n;e==="error"?n=P.colorError:e==="success"?n=P.colorSuccess:n=P.colorInfo,J.show({messageColor:n,backgroundColor:"rgba(36, 36, 36, 0.8)",messageSize:"18px",position:"bottomRight",progressBar:!1,animateInside:!1,timeout:3e3,targetFirst:!1,message:o,position:"topRight",animateInside:!0})}const H=document.querySelector(".quote-wrapper");async function G(){const e=new Date().toLocaleDateString(),o=V();if(X(o,e))R(o.quote,o.author);else{let{quote:n,author:t}=await Z();R(n,t),K(n,t,e)}}function K(e,o,n){const t={quote:e,author:o,date:n};localStorage.setItem("quoteOfDay",JSON.stringify(t))}function V(){const e=localStorage.getItem("quoteOfDay");return JSON.parse(e)}async function Z(){try{const{quote:e,author:o}=await z("quote","");return{quote:e,author:o}}catch(e){console.log(e.message),g("error","Something went wrong ðŸ˜” try again later.")}}function R(e,o){const n=`<p class="quote quote-text">${e}</p>
    <p class="qoute-author">${o}</p>`;H.insertAdjacentHTML("beforeend",n)}function X(e,o){return!(!e||!e.quote||!e.date||!e.author||e.date!=o)}G();const B=document.querySelector(".js-tiles-category-list");let M=null;window.onload=function(){B?M=document.getElementsByClassName("exercises-tiles-category-list"):M=document.getElementsByClassName("fav-workouts-list");for(let e=0;e<M.length;e+=1)M[e].addEventListener("click",function(n){const t=B?n.target.closest(".exercises-category-tile-button"):n.target.closest(".fav-workouts-start-button"),s=B?n.target.closest(".exercises-category-tile-item"):n.target.closest(".fav-workouts-list-item");if(t){let y=function(){i.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto",document.removeEventListener("keydown",$),d.removeEventListener("click",y),window.removeEventListener("click",x)},$=function(a){(a.key==="Escape"||a.keyCode===27)&&y()},x=function(a){a.target===i&&y()},u=function(a){const m=document.getElementById("exerciseDetails");let E=null;a.gifUrl?E=`<div class="main-modal__gif-wrapper">
              <img class="gif" src="${a.gifUrl}" alt="Exercise GIF">
              <div class="gif-overlay"></div>
              </div>`:E=`<div class="main-modal__gif-wrapper">
              <img class="main-modal__gif" src="https://i.ibb.co/ZfpKSXz/depositphotos-197890504-stock-illustration-vector-man-engaged-gym.webp" alt="depositphotos-197890504-stock-illustration-vector-man-engaged-gym" alt="Exercise IMG">
              <div class="main-modal__gif-overlay"></div>
              </div>`;const D=`<p class='main-modal__card-title'>${a.name.charAt(0).toUpperCase()+a.name.slice(1)}</p>`,_=j(Math.round(a.rating*10)/10),N=`<div class='main-modal__rating-container'>
            <span class="main-modal__rating">${a.rating.toString().includes(".")?Math.round(a.rating*10)/10:a.rating+".0"}</span>
            ${_}
            </div>`,q=`<div class="main-modal__details-container">
            <div class="main-modal__details-wrapper">
            <p class="main-modal__details-title">Target</p>
            <p class="main-modal__details-info">${a.target.charAt(0).toUpperCase()+a.target.slice(1)}</p>
            </div>
            <div class="main-modal__details-wrapper">
            <p class="main-modal__details-title body-part">Body Part</p>
            <p class="main-modal__details-info">${a.bodyPart.charAt(0).toUpperCase()+a.bodyPart.slice(1)}</p>
            </div>
            <div class="main-modal__details-wrapper">
            <p class="main-modal__details-title">Equipment</p>
            <p class="main-modal__details-info">${a.equipment.charAt(0).toUpperCase()+a.equipment.slice(1)}</p>
            </div>
            <div class="main-modal__details-wrapper">
            <p class="main-modal__details-title">Popular</p>
            <p class="main-modal__details-info">${a.popularity}</p>
            </div>
            </div>
            <div class="main-modal__bottom-details-container">
            <div class="main-modal__details-wrapper main-modal__calories">
            <p class="main-modal__details-title">Burned Calories</p>
            <p class="main-modal__details-info">${a.burnedCalories+"/3 min"}</p>
            </div>
            </div>`,U=`<div class="main-modal__description">${a.description}</div>`,T=`<div class="main-modal__btns-wrapper">
            <button class="main-modal__btn main-modal__fav-btn" id="fav-btn">
            <span class="main-modal__btn-text main-modal__fav-btn-text">Add to favorites</span>
            <svg class="main-modal__heart-icon" aria-label="logo icon">
            <use href="./img/icons.svg#icon-heart"></use>
            </svg>
            </button>
            <button class="main-modal__btn main-modal__rating-btn">
            <span class="main-modal__btn-text">Give a rating</span>
            </button>
            </div>`;m.innerHTML=`${`<div class="main-modal__content-container">${E+`<div class="main-modal__content-wrapper">${D+N+q+U} </div> `}</div> ${T}`}`;function j(f){const h=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon main-modal__colored-star">
              <use href="./img/icons.svg#icon-star"></use>
              </svg></div>`,w=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon">
              <use href="./img/icons.svg#icon-star"></use>
              </svg></div>`;let b="",S=Math.floor(f),L=f-S;for(let I=0;I<5;I++)if(I<S)b+=h;else if(I===S&&L>0){const C=Math.round(L*100);b+=`<div class="main-modal__star-wrapper" style="mask-image: linear-gradient(90deg, #EEA10C ${C}%, rgba(244, 244, 244, 0.2) ${C}%); -webkit-mask-image: linear-gradient(90deg, #EEA10C ${C}%, rgba(244, 244, 244, 0.2) ${C}%);"><svg class="main-modal__star-icon main-modal__colored-star" >
                  <use href="./img/icons.svg#icon-star"></use>
                  </svg></div>`}else b+=w;return`${b}`}function F(){const f=document.querySelectorAll(".main-modal__details-wrapper");let h=0;return f.forEach(w=>{h+=w.offsetWidth}),h}function Q(){const f=document.querySelector(".main-modal__bottom-details-container"),h=document.querySelector(".main-modal__details-wrapper:nth-child(4)"),w=F();function b(L){L?w>364&&f.insertBefore(h,f.firstChild):w>315&&f.insertBefore(h,f.firstChild)}const S=window.matchMedia("(min-width: 768px)");b(S.matches),S.addEventListener("change",L=>{b(L.matches)})}Q()};const i=document.getElementById("myModal"),d=document.getElementsByClassName("main-modal__close")[0],p=document.querySelector("body");let l=localStorage.getItem("savedExercises")?JSON.parse(localStorage.getItem("savedExercises")):[];d&&d.addEventListener("click",y),document.addEventListener("keydown",$),window.addEventListener("click",x);const r=s.dataset.id;i.style.display="flex",p.style.overflow="hidden";const c=`https://your-energy.b.goit.study/api/exercises/${r}`;v.get(c).then(a=>{if(a)return localStorage.setItem("currentExercise",JSON.stringify(a.data)),a.data}).then(a=>{u(a);const m=document.getElementById("fav-btn");if(m){const E=l.some(_=>_._id===a._id);m.querySelector(".main-modal__heart-icon use").setAttribute("href",E?"./img/icons.svg#icon-trash":"./img/icons.svg#icon-heart"),m.querySelector(".main-modal__btn-text").textContent=E?"Remove from favorites":"Add to favorites",m.addEventListener("click",function(){const _=l.some(q=>q._id===a._id);_?l=l.filter(q=>q._id!==a._id):l.push(a),localStorage.setItem("savedExercises",JSON.stringify(l)),m.querySelector(".main-modal__btn-text").textContent=_?"Add to favorites":"Remove from favorites",m.querySelector(".main-modal__heart-icon use").setAttribute("href",_?"./img/icons.svg#icon-heart":"./img/icons.svg#icon-trash")})}}).catch(a=>{console.error("There was a problem with the Axios request:",a)})}})};document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#myModal");e.addEventListener("click",function(o){if(o.target.closest(".main-modal__rating-btn")){const t={backdrop:document.querySelector(".rating-backdrop"),closeButton:document.querySelector(".rating__close-btn"),submitButton:document.querySelector(".rating__submit-btn"),starsContainer:document.querySelectorAll(".rating__input"),emailInput:document.querySelector(".rating__input-email"),commentInput:document.querySelector(".rating__input-comment"),ratingValue:document.querySelector(".rating__value")};let s=null,i=JSON.parse(localStorage.getItem("currentExercise"))||{};t.ratingValue.innerHTML=i.rating.toString().includes(".")?Math.round(i.rating*10)/10:i.rating+".0";const d=()=>{s=null,t.emailInput.value="",t.commentInput.value="",Array.from(t.starsContainer).forEach(c=>{const u=c.nextElementSibling.querySelector(".rating__icon-star");u.style.fill="var(--second-color-light-theme)",u.style.opacity=.2})},p=()=>{e.style.display="none",t.backdrop.classList.add("modal-open"),t.closeButton.addEventListener("click",l)},l=()=>{d(),t.backdrop.classList.remove("modal-open"),t.closeButton.removeEventListener("click",l),e.style.display="flex",t.submitButton.removeEventListener("click",x),t.starsContainer.forEach(r=>{r.removeEventListener("click",function(c){s=c.target,y()})}),t.backdrop.removeEventListener("click",function(r){r.target===t.backdrop&&!r.target.closest(".rating__close-btn")&&!r.target.closest(".rating__submit-btn")&&l()})},y=()=>{const r=Array.from(t.starsContainer);r.forEach((c,u)=>{const a=c.nextElementSibling.querySelector(".rating__icon-star");c===s||s&&u<r.indexOf(s)?(a.style.fill="var(--stars-color-activ)",a.style.opacity=1):(a.style.fill="var(--second-color-light-theme)",a.style.opacity=.2)})},$=r=>/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r),x=async r=>{r.preventDefault();const c=s==null?void 0:s.id,u=parseInt(c==null?void 0:c.replace("star",""),10);if(!u||isNaN(u)){g("info","Please add your rating");return}if(!$(t.emailInput.value)){g("info","Please enter a valid email address");return}if(t.commentInput.value.length<=3){g("info","Please leave your comment");return}const a=`https://your-energy.b.goit.study/api/exercises/${i._id}/rating`;try{(await v.patch(a,{rate:u,email:t.emailInput.value,review:t.commentInput.value})).status===200?g("success","Rating submitted successfully!"):g("error","Failed to submit rating")}catch(m){m.response.status===409?g("message","Such email already exists"):m.response.status===404?g("warning","Such exercise not found"):g("error","Failed to submit rating")}l()};t.starsContainer.forEach(r=>{r.addEventListener("click",function(c){s=c.target,y()})}),t.backdrop.addEventListener("click",function(r){r.target===t.backdrop&&!r.target.closest(".rating__close-btn")&&!r.target.closest(".rating__submit-btn")&&l()}),t.closeButton.addEventListener("click",l),t.submitButton.addEventListener("click",x),document.addEventListener("keydown",r=>{r.key==="Escape"&&l()}),p()}})});const O=document.querySelector(".loader-backdrop");function ie(e){e&&!O.classList.contains("loader-backdrop-open")?(document.body.style.overflow="hidden",O.classList.add("loader-backdrop-open")):e||setTimeout(()=>{document.body.style.overflow="",O.classList.remove("loader-backdrop-open")},1e3)}document.addEventListener("DOMContentLoaded",function(){Y(),window.addEventListener("online",function(){A(!0)}),window.addEventListener("offline",function(){A(!1)})});function Y(){navigator.onLine?A(!0):A(!1)}function A(e){const o=document.querySelector(".page-error-container");if(e)o&&(o.remove(),document.body.classList.remove("page-error-open"));else if(!o){const n=document.createElement("div");n.classList.add("page-error-container");const t=document.createElement("p");t.textContent="Sorry, the page did not load.",n.appendChild(t),document.body.appendChild(n),document.body.classList.toggle("page-error-open")}}export{te as a,oe as b,ne as c,ae as d,se as e,z as f,g as s,ie as t};
//# sourceMappingURL=showPageError-f8580ff1.js.map
