import{a as y,i as N}from"./vendor-1133ef0b.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();document.addEventListener("DOMContentLoaded",function(){const e=window.location.pathname.split("/").pop();document.querySelectorAll(".header-nav-list-item a").forEach(function(t){const n=t.getAttribute("href").split("/").pop();e===n||e===""&&n==="index.html"?t.classList.add("header-nav-current"):t.classList.remove("header-nav-current")})});function j(){const e=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),t=document.querySelector(".js-menu-container");e.addEventListener("click",()=>{t.classList.add("is-open")}),s.addEventListener("click",()=>{t.classList.remove("is-open")});const n=window.matchMedia("(min-width: 768px)"),a=i=>{i.matches&&t.classList.remove("is-open")};n.addEventListener("change",a)}j();const h="https://your-energy.b.goit.study/api";async function F(e,s){for(const a of Object.keys(s))s[a]===""&&delete s[a];const t=new URLSearchParams(s),{data:n}=await y(`${h}/${e}?${t}`);return n}async function X(e){for(const n of Object.keys(e))e[n]===""&&delete e[n];const s=new URLSearchParams(e),{data:t}=await y(`${h}/exercises?${s}`);return t}const Y=async({page:e=1,limit:s=100}={})=>{const{data:t}=await y.get(`${h}/filters?filter=Muscles&page=${e}&limit=${s}`);return t},ee=async({page:e=1,limit:s=100}={})=>{const{data:t}=await y.get(`${h}/filters?filter=Body+parts&page=${e}&limit=${s}`);return t},te=async({page:e=1,limit:s=100}={})=>{const{data:t}=await y.get(`${h}/filters?filter=Equipment&page=${e}&limit=${s}`);return t},oe=async({bodyPart:e,muscle:s,equipment:t,page:n=1,limit:a=100})=>{const i=new URLSearchParams({bodypart:e,muscles:s,equipment:t,page:n,limit:a}),{data:f}=await y.get(`${h}/exercises?${i}`);return f},C={colorSuccess:"#0ecc2e",colorError:"#f58e82",colorInfo:"#9dfab5"};function p(e,s){let t;e==="error"?t=C.colorError:e==="success"?t=C.colorSuccess:t=C.colorInfo,N.show({messageColor:"#262121",backgroundColor:t,messageSize:"18px",position:"bottomRight",progressBar:!1,animateInside:!1,timeout:3e3,targetFirst:!1,message:s})}const Q=document.querySelector(".quote-wrapper");async function J(){const e=new Date().toLocaleDateString(),s=z();if(G(s,e))D(s.quote,s.author);else{let{quote:t,author:n}=await H();D(t,n),W(t,n,e)}}function W(e,s,t){const n={quote:e,author:s,date:t};localStorage.setItem("quoteOfDay",JSON.stringify(n))}function z(){const e=localStorage.getItem("quoteOfDay");return JSON.parse(e)}async function H(){try{const{quote:e,author:s}=await F("quote","");return{quote:e,author:s}}catch(e){console.log(e.message),p("error","Something went wrong ðŸ˜” try again later.")}}function D(e,s){const t=`<p class="quote quote-text">${e}</p>
    <p class="qoute-author">${s}</p>`;Q.insertAdjacentHTML("beforeend",t)}function G(e,s){return!(!e||!e.quote||!e.date||!e.author||e.date!=s)}J();const M=document.querySelector(".js-tiles-category-list");let x=null;window.onload=function(){M?x=document.getElementsByClassName("exercises-tiles-category-list"):x=document.getElementsByClassName("fav-workouts-list");for(let e=0;e<x.length;e+=1)x[e].addEventListener("click",function(t){const n=M?t.target.closest(".exercises-category-tile-button"):t.target.closest(".fav-workouts-start-button"),a=M?t.target.closest(".exercises-category-tile-item"):t.target.closest(".fav-workouts-list-item");if(n){let E=function(o){const c=document.getElementById("exerciseDetails");let l=null;o.gifUrl?l=`<div class="main-modal__gif-wrapper">
            <img class="gif" src="${o.gifUrl}" alt="Exercise GIF">
            <div class="gif-overlay"></div>
            </div>`:l=`<div class="main-modal__gif-wrapper">
            <img class="main-modal__gif" src="https://i.ibb.co/ZfpKSXz/depositphotos-197890504-stock-illustration-vector-man-engaged-gym.webp" alt="depositphotos-197890504-stock-illustration-vector-man-engaged-gym" alt="Exercise IMG">
            <div class="main-modal__gif-overlay"></div>
            </div>`;const u=`<p class='main-modal__card-title'>${o.name.charAt(0).toUpperCase()+o.name.slice(1)}</p>`,m=I(Math.round(o.rating*10)/10),b=`<div class='main-modal__rating-container'>
          <span class="main-modal__rating">${o.rating.toString().includes(".")?Math.round(o.rating*10)/10:o.rating+".0"}</span>
          ${m}
          </div>`,g=`<div class="main-modal__details-container">
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Target</p>
          <p class="main-modal__details-info">${o.target.charAt(0).toUpperCase()+o.target.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title body-part">Body Part</p>
          <p class="main-modal__details-info">${o.bodyPart.charAt(0).toUpperCase()+o.bodyPart.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Equipment</p>
          <p class="main-modal__details-info">${o.equipment.charAt(0).toUpperCase()+o.equipment.slice(1)}</p>
          </div>
          <div class="main-modal__details-wrapper">
          <p class="main-modal__details-title">Popular</p>
          <p class="main-modal__details-info">${o.popularity}</p>
          </div>
          </div>
          <div class="main-modal__bottom-details-container">
          <div class="main-modal__details-wrapper main-modal__calories">
          <p class="main-modal__details-title">Burned Calories</p>
          <p class="main-modal__details-info">${o.burnedCalories+"/3 min"}</p>
          </div>
          </div>`,_=`<div class="main-modal__description">${o.description}</div>`,R=`<div class="main-modal__btns-wrapper">
          <button class="main-modal__btn main-modal__fav-btn" id="fav-btn">
          <span class="main-modal__btn-text main-modal__fav-btn-text">Add to favorites</span>
          <svg class="main-modal__heart-icon" aria-label="logo icon">
          <use href="./img/icons.svg#icon-heart"></use>
          </svg>
          </button>
          <button class="main-modal__btn main-modal__rating-btn">
          <span class="main-modal__btn-text">Give a rating</span>
          </button>
          </div>`;c.innerHTML=`${l+`<div class="main-modal__content-container">${`<div class="main-modal__content-wrapper">${u+b+g+_} </div> ${R}`}</div>`}`;function U(){const v=document.querySelectorAll(".main-modal__details-wrapper");let S=0;return v.forEach(L=>{S+=L.offsetWidth}),S}function T(){const v=document.querySelector(".main-modal__bottom-details-container"),S=document.querySelector(".main-modal__details-wrapper:nth-child(4)"),L=U();function P($){$?L>364&&v.insertBefore(S,v.firstChild):L>315&&v.insertBefore(S,v.firstChild)}const O=window.matchMedia("(min-width: 768px)");P(O.matches),O.addEventListener("change",$=>{P($.matches)})}T()},I=function(o){const c=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon main-modal__colored-star">
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`,l=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon">
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`;let u="",m=Math.floor(o),b=o-m;for(let g=0;g<5;g++)if(g<m)u+=c;else if(g===m&&b>0){const _=Math.round(b*100);u+=`<div class="main-modal__star-wrapper" style="mask-image: linear-gradient(90deg, #EEA10C ${_}%, rgba(244, 244, 244, 0.2) ${_}%); -webkit-mask-image: linear-gradient(90deg, #EEA10C ${_}%, rgba(244, 244, 244, 0.2) ${_}%);"><svg class="main-modal__star-icon main-modal__colored-star" >
              <use href="./img/icons.svg#icon-star"></use>
              </svg></div>`}else u+=l;return`${u}`};const i=document.getElementById("myModal"),f=document.getElementsByClassName("main-modal__close")[0],k=document.querySelector("body");let d=localStorage.getItem("savedExercises")?JSON.parse(localStorage.getItem("savedExercises")):[];f&&(f.onclick=function(){i.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto"}),window.onclick=function(o){o.target==i&&(i.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto")};const w=a.dataset.id;i.style.display="flex",k.style.overflow="hidden";const r=`https://your-energy.b.goit.study/api/exercises/${w}`;y.get(r).then(o=>{if(o)return localStorage.setItem("currentExercise",JSON.stringify(o.data)),o.data}).then(o=>{E(o);const c=document.getElementById("fav-btn");if(c){const l=d.some(m=>m._id===o._id);c.querySelector(".main-modal__heart-icon use").setAttribute("href",l?"./img/icons.svg#icon-trash":"./img/icons.svg#icon-heart"),c.querySelector(".main-modal__btn-text").textContent=l?"Remove from favorites":"Add to favorites",c.addEventListener("click",function(){const m=d.some(g=>g._id===o._id);m?d=d.filter(g=>g._id!==o._id):d.push(o),localStorage.setItem("savedExercises",JSON.stringify(d)),c.querySelector(".main-modal__btn-text").textContent=m?"Add to favorites":"Remove from favorites",c.querySelector(".main-modal__heart-icon use").setAttribute("href",m?"./img/icons.svg#icon-heart":"./img/icons.svg#icon-trash")})}}).catch(o=>{console.error("There was a problem with the Axios request:",o)})}})};N.settings({position:"topRight",transitionIn:"bounceInDown",closeOnEscape:!0});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#myModal");e.addEventListener("click",function(s){if(s.target.closest(".main-modal__rating-btn")){const n={backdrop:document.querySelector(".rating-backdrop"),closeButton:document.querySelector(".rating__close-btn"),submitButton:document.querySelector(".rating__submit-btn"),starsContainer:document.querySelectorAll(".rating__input"),emailInput:document.querySelector(".rating__input-email"),commentInput:document.querySelector(".rating__input-comment"),ratingValue:document.querySelector(".rating__value")};let a=null,i=JSON.parse(localStorage.getItem("currentExercise"))||{};n.ratingValue.innerHTML=i.rating.toString().includes(".")?Math.round(i.rating*10)/10:i.rating+".0";const f=()=>{a=null,n.emailInput.value="",n.commentInput.value="",Array.from(n.starsContainer).forEach(o=>{const c=o.nextElementSibling.querySelector(".rating__icon-star");c.style.fill="var(--second-color-light-theme)",c.style.opacity=.2})},k=()=>{e.style.display="none",n.backdrop.classList.add("modal-open"),n.closeButton.addEventListener("click",d)},d=()=>{f(),n.backdrop.classList.remove("modal-open"),n.closeButton.removeEventListener("click",d),e.style.display="flex",n.submitButton.removeEventListener("click",w),n.starsContainer.forEach(r=>{r.removeEventListener("click",function(o){a=o.target,E()})}),n.backdrop.removeEventListener("click",function(r){r.target===n.backdrop&&!r.target.closest(".rating__close-btn")&&!r.target.closest(".rating__submit-btn")&&d()})},E=()=>{const r=Array.from(n.starsContainer);r.forEach((o,c)=>{const l=o.nextElementSibling.querySelector(".rating__icon-star");o===a||a&&c<r.indexOf(a)?(l.style.fill="var(--stars-color-activ)",l.style.opacity=1):(l.style.fill="var(--second-color-light-theme)",l.style.opacity=.2)})},I=r=>/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r),w=async r=>{r.preventDefault();const o=a==null?void 0:a.id,c=parseInt(o==null?void 0:o.replace("star",""),10);if(!c||isNaN(c)){p("info","Please add your rating");return}if(!I(n.emailInput.value)){p("info","Please enter a valid email address");return}if(n.commentInput.value.length<=3){p("info","Please leave your comment");return}const l=`https://your-energy.b.goit.study/api/exercises/${i._id}/rating`;try{(await y.patch(l,{rate:c,email:n.emailInput.value,review:n.commentInput.value})).status===200?p("success","Rating submitted successfully!"):p("error","Failed to submit rating")}catch(u){u.response.status===409?p("message","Such email already exists"):u.response.status===404?p("warning","Such exercise not found"):p("error","Failed to submit rating")}d()};n.starsContainer.forEach(r=>{r.addEventListener("click",function(o){a=o.target,E()})}),n.backdrop.addEventListener("click",function(r){r.target===n.backdrop&&!r.target.closest(".rating__close-btn")&&!r.target.closest(".rating__submit-btn")&&d()}),n.closeButton.addEventListener("click",d),n.submitButton.addEventListener("click",w),document.addEventListener("keydown",r=>{r.key==="Escape"&&d()}),k()}})});const A=document.querySelector(".loader-backdrop"),V={filters:document.getElementById("loader-filters"),exercises:document.querySelector(".js-button")},B={filters:!1,exercises:!1};A.style.display="none";function ne(e,s){const t=V[e];s&&!B[e]&&t?(B[e]=!0,t.style.display="block",A.style.display="block"):(B[e]=!1,t&&(t.style.display="none",A.style.display="none"))}document.addEventListener("DOMContentLoaded",function(){Z(),window.addEventListener("online",function(){q(!0)}),window.addEventListener("offline",function(){q(!1)})});function Z(){navigator.onLine?q(!0):q(!1)}function q(e){const s=document.querySelector(".page-error-container");if(e)s&&(s.remove(),document.body.classList.remove("page-error-open"));else if(!s){const t=document.createElement("div");t.classList.add("page-error-container");const n=document.createElement("p");n.textContent="Sorry, the page did not load.",t.appendChild(n),document.body.appendChild(t),document.body.classList.toggle("page-error-open")}}export{X as a,Y as b,ee as c,te as d,oe as e,F as f,p as s,ne as t};
//# sourceMappingURL=showPageError-d1fbf77f.js.map
