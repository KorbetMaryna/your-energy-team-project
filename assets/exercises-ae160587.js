import{a as m,o as E,i as x,b as u}from"./vendor-f0888250.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();document.addEventListener("DOMContentLoaded",function(){const e=window.location.pathname.split("/").pop();document.querySelectorAll(".header-nav-list-item a").forEach(function(n){const s=n.getAttribute("href").split("/").pop();e===s||e===""&&s==="index.html"?n.classList.add("header-nav-current"):n.classList.remove("header-nav-current")})});(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),s=()=>{const r=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!r),e.classList.toggle("is-open")};t.addEventListener("click",s),n.addEventListener("click",s),window.matchMedia("(min-width: 768px)").addEventListener("change",r=>{r.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))})})();const d=document.querySelector(".rating-backdrop"),f=document.querySelector(".rating__close-btn"),S=document.querySelector(".rating__submit-btn"),y=document.querySelectorAll(".rating__input"),p=document.querySelector(".rating__input-email"),g=document.querySelector(".rating__input-comment");let o=null;const l=()=>{d.classList.remove("modal-open"),f.removeEventListener("click",l)},w=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),_=async()=>{const e=o==null?void 0:o.id,t=parseInt(e==null?void 0:e.replace("star",""),10);if(!t||isNaN(t)){console.log("Please add a rate");return}if(w(p.value)){console.log("Please enter your email");return}if(g.value.length<=3){console.log("Please leave your review");return}const s="https://your-energy.b.goit.study/api/exercises/EXERCISE_ID/rating";try{(await m.patch(s,{rate:t,email:p.value,review:g.value})).status===200?iziToast.success({title:"Success",message:"Rating submitted successfully!"}):iziToast.error({title:"Error",message:"Failed to submit rating"})}catch{iziToast.error({title:"Error",message:"Failed to submit rating"})}l()},$=()=>{const e=Array.from(y);e.forEach((t,n)=>{const s=t.nextElementSibling.querySelector(".rating__icon-star");t===o||o&&n<e.indexOf(o)?(s.style.fill="var(--stars-color-activ)",s.style.opacity=1):(s.style.fill="var(--second-color-light-theme)",s.style.opacity=.2)})};y.forEach(e=>{e.addEventListener("click",function(t){o=t.target,$()})});d.addEventListener("click",function(e){e.target===d&&!e.target.closest(".rating__close-btn")&&!e.target.closest(".rating__submit-btn")&&l()});f.addEventListener("click",l);document.addEventListener("keydown",e=>{e.key==="Escape"&&l()});S.addEventListener("click",_);const h="https://your-energy.b.goit.study/api/";async function k(e,t=1){const{data:n}=await m(`${h}filters?filter=${e}&page=${t}&limit=24`);return n}async function q(e,t=1){const n={bodypart:"",muscles:"",equipment:"",keyword:""},s=new URLSearchParams(E(Object.assign(n,e),x)),{data:r}=await m(`${h}exercises?${s}&page=${t}&limit=24`);return r}u.settings({position:"topRight",transitionIn:"bounceInDown",closeOnEscape:!0});const a={headlineWrapper:document.querySelector(".js-headline-category-wrapper"),headlineCategory:document.querySelector(".js-headline-category"),searchForm:document.querySelector(".js-search-form"),filterButtons:document.querySelectorAll(".js-button"),tilesList:document.querySelector(".js-tiles-list")};v("Muscles",1);a.filterButtons.forEach(e=>{e.addEventListener("click",()=>{var t;v(e.innerText,1),(t=document.querySelector(".active-button"))==null||t.classList.remove("active-button"),e==null||e.classList.add("active-button")})});async function v(e,t){await k(e,t).then(n=>{console.log(n),M(n),a.headlineWrapper.classList.add("hidden"),a.headlineCategory.innerText="",a.searchForm.classList.add("hidden")}).catch(n=>{console.log(n),u.error({message:"Something went wrong :-( try again later."})})}function M({results:e}){const t=e.map(({filter:n,name:s,imgURL:r})=>`      
  <li class="exercises-filter-tile-item" data-name=${s} data-filter=${n.toLowerCase()}>
        <div class="exercises-filter-tile-gradient"></div>
        <img class="exercises-filter-tile-img" src="${r}" alt="${s}" />
        <div class="exercises-filter-tile-text-wrapper">
            <h3 class="exercises-filter-tile-headline">${L(s)}</h3>
            <p class="exercises-filter-tile-text">${n}</p>
        </div>
  </li>`).join("");a.tilesList.innerHTML=t}a.tilesList.addEventListener("click",A);function A(e){if(e.preventDefault(),e.currentTarget===e.target)return;let{name:t,filter:n}=e.target.parentNode.dataset;n==="body"&&(n="bodypart");const s={[n]:t};T(s),a.headlineWrapper.classList.remove("hidden"),a.headlineCategory.innerText=L(t),a.searchForm.classList.remove("hidden")}async function T(e,t){await q(e,t).then(n=>{console.log(n),j(n)}).catch(n=>{console.log(n),u.error({message:"Something went wrong :-( try again later."})})}function j({results:e}){const t=e.map(({rating:n,name:s,burnedCalories:r,bodyPart:i,target:c,_id:b})=>`      
        <li class="exercises-category-tile-item" data-id=${b}>
            <div>
                <span>WORKOUT</span>
                <span>${n}</span>
                <button>Start</button>
            </div>
            <div>
                <h3>${s}</h3>
            </div>
            <ul>
                <li><span>Burned calories</span>${r}</li>
                <li><span>Body part</span>${i}</li>
                <li><span>Target</span>${c}</li>
            </ul>
        </li>`);if(!t.length)return u.warning({message:"Unfortunately, we don't have any exercises in this category"});a.tilesList.innerHTML=t.join("")}function L(e){return e[0].toUpperCase()+e.slice(1)}
//# sourceMappingURL=exercises-ae160587.js.map
