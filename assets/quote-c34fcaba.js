import{a as _,i as f}from"./vendor-09c79f2e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(e){if(e.ep)return;e.ep=!0;const c=i(e);fetch(e.href,c)}})();function b(s){const t=document.querySelector(".loader-container");s&&t.classList.remove("hidden"),t.classList.add("hidden")}document.addEventListener("DOMContentLoaded",function(){b(!0);const s=window.location.pathname.split("/").pop();document.querySelectorAll(".header-nav-list-item a").forEach(function(i){const a=i.getAttribute("href").split("/").pop();s===a||s===""&&a==="index.html"?(i.classList.add("header-nav-current"),b(!1)):(i.classList.remove("header-nav-current"),b(!1))})});(()=>{const s=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),i=document.querySelector(".js-close-menu"),a=()=>{const e=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!e),s.classList.toggle("is-open")};t.addEventListener("click",a),i.addEventListener("click",a),window.matchMedia("(min-width: 768px)").addEventListener("change",e=>{e.matches&&(s.classList.remove("is-open"),t.setAttribute("aria-expanded",!1))})})();function w(){const s=document.getElementsByClassName("exercises-tiles-category-list"),t=document.getElementById("myModal"),i=document.getElementsByClassName("main-modal__close")[0],a=document.querySelector("body");let e=localStorage.getItem("savedExercises")?JSON.parse(localStorage.getItem("savedExercises")):[];i&&(i.onclick=function(){t.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto"}),window.onclick=function(n){n.target==t&&(t.style.display="none",localStorage.removeItem("currentExercise"),document.body.style.overflow="auto")};for(let n=0;n<s.length;n+=1)s[n].addEventListener("click",function(m){const u=m.target.closest(".exercises-category-tile-button"),r=m.target.closest(".exercises-category-tile-item");if(u){const l=r.dataset.id;t.style.display="flex",a.style.overflow="hidden";const d=`https://your-energy.b.goit.study/api/exercises/${l}`;_.get(d).then(o=>{if(o)return localStorage.setItem("currentExercise",JSON.stringify(o.data)),o.data}).then(o=>{c(o);const g=document.getElementById("fav-btn");if(g){const S=e.some(y=>y._id===o._id);g.querySelector(".main-modal__heart-icon use").setAttribute("href",S?"./img/icons.svg#icon-trash":"./img/icons.svg#icon-heart"),g.querySelector(".main-modal__btn-text").textContent=S?"Remove from favorites":"Add to favorites",g.addEventListener("click",function(){const y=e.some(E=>E._id===o._id);y?e=e.filter(E=>E._id!==o._id):e.push(o),localStorage.setItem("savedExercises",JSON.stringify(e)),g.querySelector(".main-modal__btn-text").textContent=y?"Add to favorites":"Remove from favorites",g.querySelector(".main-modal__heart-icon use").setAttribute("href",y?"./img/icons.svg#icon-heart":"./img/icons.svg#icon-trash")})}}).catch(o=>{console.error("There was a problem with the Axios request:",o)})}});function c(n){const v=document.getElementById("exerciseDetails");let m=null;n.gifUrl?m=`<div class="main-modal__gif-wrapper">
        <img class="gif" src="${n.gifUrl}" alt="Exercise GIF">
        <div class="gif-overlay"></div>
        </div>`:m=`<div class="main-modal__gif-wrapper">
        <img class="main-modal__gif" src="https://i.ibb.co/ZfpKSXz/depositphotos-197890504-stock-illustration-vector-man-engaged-gym.webp" alt="depositphotos-197890504-stock-illustration-vector-man-engaged-gym" alt="Exercise IMG">
        <div class="main-modal__gif-overlay"></div>
        </div>`;const u=`<p class='main-modal__card-title'>${n.name.charAt(0).toUpperCase()+n.name.slice(1)}</p>`,r=p(Math.round(n.rating*10)/10),l=`<div class='main-modal__rating-container'>
      <span class="main-modal__rating">${n.rating.toString().includes(".")?Math.round(n.rating*10)/10:n.rating+".0"}</span>
      ${r}
      </div>`,d=`<div class="main-modal__details-container">
      <div class="main-modal__details-wrapper">
      <p class="main-modal__details-title">Target</p>
      <p class="main-modal__details-info">${n.target.charAt(0).toUpperCase()+n.target.slice(1)}</p>
      </div>
      <div class="main-modal__details-wrapper">
      <p class="main-modal__details-title body-part">Body Part</p>
      <p class="main-modal__details-info">${n.bodyPart.charAt(0).toUpperCase()+n.bodyPart.slice(1)}</p>
      </div>
      <div class="main-modal__details-wrapper">
      <p class="main-modal__details-title">Equipment</p>
      <p class="main-modal__details-info">${n.equipment.charAt(0).toUpperCase()+n.equipment.slice(1)}</p>
      </div>
      <div class="main-modal__details-wrapper">
      <p class="main-modal__details-title">Popular</p>
      <p class="main-modal__details-info">${n.popularity}</p>
      </div>
      </div>
      <div class="main-modal__details-wrapper main-modal__calories">
      <p class="main-modal__details-title">Burned Calories</p>
      <p class="main-modal__details-info">${n.burnedCalories+"/3 min"}</p>
      </div>`,o=`<div class="main-modal__description">${n.description}</div>`,g=`<div class="main-modal__btns-wrapper">
      <button class="main-modal__btn main-modal__fav-btn" id="fav-btn">
      <span class="main-modal__btn-text main-modal__fav-btn-text">Add to favorites</span>
      <svg class="main-modal__heart-icon" aria-label="logo icon">
      <use href="./img/icons.svg#icon-heart"></use>
      </svg>
      </button>
      <button class="main-modal__btn main-modal__rating-btn">
      <span class="main-modal__btn-text">Give a rating</span>
      </button>
      </div>`;v.innerHTML=`${m+`<div class="main-modal__content-container">${`<div class="main-modal__content-wrapper">${u+l+d+o} </div> ${g}`}</div>`}`}function p(n){const v=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon main-modal__colored-star">
      <use href="./img/icons.svg#icon-star"></use>
      </svg></div>`,m=`<div class="main-modal__star-wrapper"><svg class="main-modal__star-icon">
      <use href="./img/icons.svg#icon-star"></use>
      </svg></div>`;let u="",r=Math.floor(n),l=n-r;for(let d=0;d<5;d++)if(d<r)u+=v;else if(d===r&&l>0){const o=Math.round(l*100);u+=`<div class="main-modal__star-wrapper" style="mask-image: linear-gradient(90deg, #EEA10C ${o}%, rgba(244, 244, 244, 0.2) ${o}%); -webkit-mask-image: linear-gradient(90deg, #EEA10C ${o}%, rgba(244, 244, 244, 0.2) ${o}%);"><svg class="main-modal__star-icon main-modal__colored-star" >
          <use href="./img/icons.svg#icon-star"></use>
          </svg></div>`}else u+=m;return`${u}`}}window.onload=function(){document.querySelector(".exercises-container")&&w()};f.settings({position:"topRight",transitionIn:"bounceInDown",closeOnEscape:!0});document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector("#myModal");s.addEventListener("click",function(t){if(t.target.closest(".main-modal__rating-btn")){const a={backdrop:document.querySelector(".rating-backdrop"),closeButton:document.querySelector(".rating__close-btn"),submitButton:document.querySelector(".rating__submit-btn"),starsContainer:document.querySelectorAll(".rating__input"),emailInput:document.querySelector(".rating__input-email"),commentInput:document.querySelector(".rating__input-comment"),ratingValue:document.querySelector(".rating__value")};let e=null,c=JSON.parse(localStorage.getItem("currentExercise"))||{};a.ratingValue.innerHTML=c.rating.toString().includes(".")?Math.round(c.rating*10)/10:c.rating+".0";const p=()=>{s.style.display="none",a.backdrop.classList.add("modal-open"),a.closeButton.addEventListener("click",n)},n=()=>{a.backdrop.classList.remove("modal-open"),a.closeButton.removeEventListener("click",n),s.style.display="flex"},v=()=>{const r=Array.from(a.starsContainer);r.forEach((l,d)=>{const o=l.nextElementSibling.querySelector(".rating__icon-star");l===e||e&&d<r.indexOf(e)?(o.style.fill="var(--stars-color-activ)",o.style.opacity=1):(o.style.fill="var(--second-color-light-theme)",o.style.opacity=.2)})},m=r=>/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r),u=async r=>{r.preventDefault();const l=e==null?void 0:e.id,d=parseInt(l==null?void 0:l.replace("star",""),10);if(!d||isNaN(d)){f.show({title:"Error",message:"Please add your rating"});return}if(!m(a.emailInput.value)){f.show({title:"Error",message:"Please enter a valid email address"});return}if(a.commentInput.value.length<=3){f.show({title:"Error",message:"Please leave your comment"});return}const o=`https://your-energy.b.goit.study/api/exercises/${c._id}/rating`;try{(await _.patch(o,{rate:d,email:a.emailInput.value,review:a.commentInput.value})).status===200?f.success({title:"Success",message:"Rating submitted successfully!"}):f.error({title:"Error",message:"Failed to submit rating"})}catch{f.error({title:"Error",message:"Failed to submit rating"})}n()};a.starsContainer.forEach(r=>{r.addEventListener("click",function(l){e=l.target,v()})}),a.backdrop.addEventListener("click",function(r){r.target===a.backdrop&&!r.target.closest(".rating__close-btn")&&!r.target.closest(".rating__submit-btn")&&n()}),a.closeButton.addEventListener("click",n),a.submitButton.addEventListener("click",u),document.addEventListener("keydown",r=>{r.key==="Escape"&&n()}),p()}})});const h="https://your-energy.b.goit.study/api";async function L(s,t){for(const e of Object.keys(t))t[e]===""&&delete t[e];const i=new URLSearchParams(t),{data:a}=await _(`${h}/${s}?${i}`);return b(!1),a}const C=async({page:s=1,limit:t=100}={})=>{const{data:i}=await _.get(`${h}/filters?filter=Muscles&page=${s}&limit=${t}`);return i},D=async({page:s=1,limit:t=100}={})=>{const{data:i}=await _.get(`${h}/filters?filter=Body+parts&page=${s}&limit=${t}`);return i},N=async({page:s=1,limit:t=100}={})=>{const{data:i}=await _.get(`${h}/filters?filter=Equipment&page=${s}&limit=${t}`);return i},R=async({bodyPart:s,muscle:t,equipment:i,page:a=1,limit:e=100})=>{const c=new URLSearchParams({bodypart:s,muscles:t,equipment:i,page:a,limit:e}),{data:p}=await _.get(`${h}/exercises?${c}`);return p},q=document.querySelector(".quote-wrapper");async function $(){const s=new Date().toLocaleDateString(),t=k(),i=JSON.parse(t);if(!i||i.date!=s){let{quote:a,author:e}=await M();x(a,e),I(a,e,s)}else x(i.quote,i.author)}function I(s,t,i){const a={quote:s,author:t,date:i};localStorage.setItem("quoteOfDay",JSON.stringify(a))}function k(){return localStorage.getItem("quoteOfDay")}async function M(){try{const{quote:s,author:t}=await L("quote","");return{quote:s,author:t}}catch(s){A(s.message)}}function x(s,t){const i=`<p class="quote quote-text">${s}</p>
    <p class="qoute-author">${t}</p>`;q.insertAdjacentHTML("beforeend",i)}function A(s){f.error({message:`${s}`})}$();export{C as a,D as b,N as c,R as d,A as e,L as f,b as t};
//# sourceMappingURL=quote-c34fcaba.js.map
