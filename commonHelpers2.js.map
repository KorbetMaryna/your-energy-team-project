{"version":3,"file":"commonHelpers2.js","sources":["../src/js/helpers/capitalizeFirstLetter.js","../src/js/exercises-markup.js","../src/js/exercises.js","../src/js/your-choice.js","../src/js/footer.js","../src/js/helpers/debounce.js","../src/js/helpers/toggleHidden.js","../src/js/search/refs.js","../src/js/search/search-input.js","../src/js/handlerScrollUp.js","../src/js/privacy&terms.js"],"sourcesContent":["export function capitalizeFirstLetter(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }","import { capitalizeFirstLetter } from './helpers/capitalizeFirstLetter';\n\nfunction filterMarkup(filter, name, imgURL) {\n  return `      \n<li class=\"exercises-filter-tile-item\" data-name=${name} data-filter=${filter.toLowerCase()}>\n      <div class=\"exercises-filter-tile-gradient\"></div>\n      <img class=\"exercises-filter-tile-img\" src=\"${imgURL}\" alt=\"${name}\" onerror=\"this.onerror=null; this.src='./../img/no-image.jpg'\"/>\n      <div class=\"exercises-filter-tile-text-wrapper\">\n          <h3 class=\"exercises-filter-tile-headline\">${capitalizeFirstLetter(\n            name\n          )}</h3>\n          <p class=\"exercises-filter-tile-text\">${filter}</p>\n      </div>\n</li>`;\n}\n\nfunction exercisesMarkup(rating, name, burnedCalories, bodyPart, target, _id) {\n  return `      \n<li class=\"exercises-category-tile-item\" data-id=${_id}>\n    <div class=\"exercises-category-tile-top\">\n      <div class=\"exercises-category-tile-workout-wrapper\">\n        <span class=\"exercises-category-tile-badge\">WORKOUT</span>\n        <div class=\"exercises-category-tile-rating-wrapper\">\n          <span class=\"exercises-category-tile-rating\">${rating.toFixed(\n            1\n          )}</span>\n          <svg\n          class=\"exercises-category-tile-star-icon\"\n          width=\"18\"\n          height=\"18\">\n            <use href=\"./img/icons.svg#icon-star\"></use>\n          </svg>\n        </div>\n      </div>\n      <button class=\"exercises-category-tile-button\">Start \n        <svg \n        class=\"exercises-category-tile-arrow-icon\"\n        width=\"36\" \n        height=\"36\">\n          <use href=\"./img/icons.svg#icon-arrow\"></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"exercises-category-tile-middle\">\n      <svg \n      class=\"exercises-category-tile-man-icon\"\n      width=\"24\" \n      height=\"24\">\n        <use href=\"./img/icons.svg#icon-running-man\"></use>\n      </svg>\n      <h3 class=\"exercises-category-tile-name\">${name}</h3>\n    </div>\n    <ul class=\"exercises-category-tile-bottom\">\n        <li class=\"exercises-category-tile-bottom-item\">\n        <span class=\"exercises-category-tile-bottom-title\">Burned calories:</span>\n        ${burnedCalories}</li>\n        <li class=\"exercises-category-tile-bottom-item\">\n        <span class=\"exercises-category-tile-bottom-title\">Body part:</span>\n        ${capitalizeFirstLetter(bodyPart)}</li>\n        <li class=\"exercises-category-tile-bottom-item\">\n        <span class=\"exercises-category-tile-bottom-title\">Target:</span>\n        ${capitalizeFirstLetter(target)}</li>\n    </ul>\n</li>`;\n}\n\nexport { filterMarkup, exercisesMarkup };\n","import iziToast from 'izitoast';\nimport { fetchApiData } from './api';\nimport { filterMarkup, exercisesMarkup } from './exercises-markup';\nimport { capitalizeFirstLetter } from './helpers/capitalizeFirstLetter';\nimport { toggleLoader } from './loader';\n\niziToast.settings({\n  position: 'topRight',\n  transitionIn: 'bounceInDown',\n  closeOnEscape: true,\n});\n\nconst refs = {\n  headlineWrapper: document.querySelector('.js-headline-category-wrapper'),\n  headlineCategory: document.querySelector('.js-headline-category'),\n  searchForm: document.querySelector('.js-search-form'),\n  filterButtons: document.querySelectorAll('.js-button'),\n  tilesFilterList: document.querySelector('.js-tiles-filter-list'),\n  tilesCategoryList: document.querySelector('.js-tiles-category-list'),\n  paginationList: document.querySelector('.js-pagination'),\n};\n\nexport let basicUrlParams = {\n  filter: 'Muscles',\n  bodypart: '',\n  muscles: '',\n  equipment: '',\n  keyword: '',\n  page: 1,\n};\n\ncheckScreenWidth(basicUrlParams.filter);\n\nfetchData('filters', basicUrlParams);\n\nrefs.filterButtons.forEach(el => {\n  el.addEventListener('click', () => {\n    resetExercisesUrlObj(basicUrlParams, el);\n    fetchData('filters', basicUrlParams);\n    makeFilterButtonActive(el);\n  });\n});\n\nexport async function fetchData(type, obj) {\n  toggleLoader(true);\n  await fetchApiData(type, obj)\n    .then(data => {\n      const { page, totalPages } = data;\n      if (data.results[0]?.filter) {\n        const markupType = 'filters';\n        createFilterMarkup(data);\n        renderPagination({ page, totalPages, type: markupType });\n        hideHeadlineAndSearch();\n      } else {\n        const markupType = 'exercises';\n        createExercisesMarkup(data);\n        renderPagination({ page, totalPages, type: markupType });\n      }\n    })\n    .catch(err => {\n      console.log(err);\n      iziToast.error({\n        message: 'Something went wrong :-( try again later.',\n      });\n    })\n    .finally(toggleLoader(false));\n}\n\nfunction createFilterMarkup({ results }) {\n  clearCategoryMarkup();\n\n  const markup = results\n    .map(({ filter, name, imgURL }) => filterMarkup(filter, name, imgURL))\n    .join('');\n  refs.tilesFilterList.innerHTML = markup;\n}\n\nrefs.tilesFilterList.addEventListener('click', onTileClick);\n\nfunction onTileClick(e) {\n  e.preventDefault();\n  if (e.currentTarget === e.target) {\n    return;\n  }\n  let { name, filter } = e.target.parentNode.dataset;\n  resetCategoryUrlObj(basicUrlParams, name, filter);\n  fetchData('exercises', basicUrlParams);\n  createHeadline(name);\n}\n\nexport function createExercisesMarkup({ results }) {\n  if (!results.length) {\n    return iziToast.warning({\n      message: \"Unfortunately, we don't have any exercises in this category\",\n    });\n  }\n  displayHeadlineAndSearch();\n  clearFilterMarkup();\n  const markup = results\n    .map(({ rating, name, burnedCalories, bodyPart, target, _id }) =>\n      exercisesMarkup(rating, name, burnedCalories, bodyPart, target, _id)\n    )\n    .join('');\n\n  refs.tilesCategoryList.innerHTML = markup;\n}\n\nexport function hideHeadlineAndSearch() {\n  refs.headlineCategory.innerText = '';\n  refs.headlineWrapper.classList.add('visually-hidden');\n  refs.searchForm.classList.add('visually-hidden');\n}\n\nexport function displayHeadlineAndSearch() {\n  refs.headlineWrapper.classList.remove('visually-hidden');\n  refs.searchForm.classList.remove('visually-hidden');\n}\n\nexport function createHeadline(name) {\n  refs.headlineCategory.innerText = capitalizeFirstLetter(name);\n}\n\nexport function checkScreenWidth(filter) {\n  if (filter !== '') {\n    basicUrlParams.limit = window.innerWidth < 768 ? 9 : 12;\n  } else {\n    basicUrlParams.limit = window.innerWidth < 768 ? 8 : 10;\n  }\n  return basicUrlParams.limit;\n}\n\nexport function makeFilterButtonActive(el) {\n  document.querySelector('.active-button').classList.remove('active-button');\n  el.classList.add('active-button');\n}\n\nfunction resetExercisesUrlObj(basicUrlParams, el) {\n  let obj = {\n    bodypart: '',\n    muscles: '',\n    equipment: '',\n  };\n  checkScreenWidth(basicUrlParams.filter);\n  Object.assign(basicUrlParams, obj);\n  basicUrlParams.filter = el.innerText;\n  basicUrlParams.page = 1;\n}\n\nfunction resetCategoryUrlObj(basicUrlParams, name, filter) {\n  basicUrlParams.filter = '';\n  if (filter === 'body') {\n    filter = 'bodypart';\n  }\n  Object.assign(basicUrlParams, { [filter]: name });\n  checkScreenWidth(basicUrlParams.filter);\n}\n\nfunction clearCategoryMarkup() {\n  refs.tilesCategoryList.innerHTML = '';\n  refs.tilesCategoryList.classList.add('visually-hidden');\n  refs.tilesFilterList.classList.remove('visually-hidden');\n}\n\nfunction clearFilterMarkup() {\n  refs.tilesFilterList.innerHTML = '';\n  refs.tilesFilterList.classList.add('visually-hidden');\n  refs.tilesCategoryList.classList.remove('visually-hidden');\n}\n\nexport function renderPagination({ page, totalPages, type, customListener }) {\n  refs.paginationList.innerHTML = '';\n\n  const maxPagesToShow = 6;\n\n  if (totalPages <= maxPagesToShow) {\n    renderPages(1, totalPages, page, type);\n  } else {\n    if (page < 4) {\n      renderPages(1, 4, page, type);\n      renderEllipsis();\n      renderLastPage(totalPages, page);\n    } else if (page > totalPages - 3) {\n      renderFirstPage();\n      renderEllipsis();\n      renderPages(totalPages - 3, totalPages, page, type);\n    } else {\n      renderFirstPage();\n      renderEllipsis();\n      renderPages(page - 1, page + 1, page, type);\n      renderEllipsis();\n      renderLastPage(totalPages, page);\n    }\n  }\n\n  function renderPages(start, end, currentPage, type) {\n    for (let i = start; i <= end; i++) {\n      const pageElement = document.createElement('span');\n      pageElement.classList.add('exercises-pagination-item');\n      pageElement.textContent = i;\n\n      if (i === Number(currentPage)) {\n        pageElement.classList.add('exercises-pagination-item-active');\n      }\n\n      pageElement.addEventListener('click', () => {\n        basicUrlParams.page = i;\n        if (customListener) {\n          customListener(basicUrlParams.page);\n        } else {\n          fetchData(type, basicUrlParams);\n        }\n      });\n\n      refs.paginationList.appendChild(pageElement);\n    }\n  }\n\n  function renderEllipsis() {\n    const ellipsisElement = document.createElement('span');\n    ellipsisElement.classList.add('exercises-pagination-item');\n    ellipsisElement.textContent = '...';\n    refs.paginationList.appendChild(ellipsisElement);\n  }\n\n  function renderFirstPage() {\n    renderPages(1, 1, page, type);\n  }\n\n  function renderLastPage(totalPages, currentPage) {\n    renderPages(totalPages, totalPages, currentPage, type);\n  }\n}\n","import MicroModal from 'micromodal';\nimport iziToast from 'izitoast';\n\nimport {\n  fetchBodyParts,\n  fetchEquipment,\n  fetchExercises,\n  fetchMuscles,\n} from './api';\nimport {\n  checkScreenWidth,\n  createExercisesMarkup,\n  createHeadline,\n  hideHeadlineAndSearch,\n  makeFilterButtonActive,\n  renderPagination,\n} from './exercises';\n\nconst youChoiceBtnElem = document.querySelector('.your-choice-button');\n\nclass YourChoiceModal {\n  constructor() {\n    this.id = 'your-choice-modal';\n\n    this.bodyPartsOptions = [];\n    this.bodyPartsSelectElem = document.getElementById('you-choice-body-part');\n\n    this.musclesOptions = [];\n    this.musclesSelectElem = document.getElementById('your-choice-muscle');\n\n    this.equipmentOptions = [];\n    this.equipmentSelectElem = document.getElementById('your-choice-equipment');\n\n    this.selectGroups = document.querySelectorAll(`#${this.id} .select-group`);\n\n    this.submitBtnElem = document.getElementById('search-exercises');\n    this.submitBtnElem.addEventListener('click', () => {\n      this.triggerSearchExercises();\n    });\n\n    MicroModal.init();\n  }\n\n  async show() {\n    MicroModal.show(this.id);\n\n    try {\n      const [muscles, bodyParts, equipment] = await Promise.all([\n        fetchMuscles(),\n        fetchBodyParts(),\n        fetchEquipment(),\n      ]);\n\n      this.musclesOptions = muscles.results;\n      this.bodyPartsOptions = bodyParts.results;\n      this.equipmentOptions = equipment.results;\n      console.log({ muscles, bodyParts, equipment });\n\n      this.hideLoading();\n      this.toggleShowSelectGroups(true);\n\n      [\n        {\n          filters: this.musclesOptions,\n          elem: this.musclesSelectElem,\n        },\n        {\n          filters: this.bodyPartsOptions,\n          elem: this.bodyPartsSelectElem,\n        },\n        {\n          filters: this.equipmentOptions,\n          elem: this.equipmentSelectElem,\n        },\n      ].forEach(({ filters, elem }) => {\n        console.log({ filters, elem });\n        const options = [];\n        for (let i = 0; i < filters.length; i++) {\n          const { name } = filters[i];\n          options.push(`<option value=${i}>${name}</option>`);\n        }\n        elem.innerHTML = options.join('');\n\n        this.hideLoading();\n      });\n    } catch (err) {\n      const msg = 'Could not fetch lists of filters for modal';\n      console.error(msg, err);\n      iziToast.error({\n        message: msg,\n      });\n    }\n  }\n\n  hideLoading() {\n    document\n      .querySelector(`#${this.id} .modal__content-loading`)\n      .classList.add('hidden');\n  }\n\n  toggleShowSelectGroups(isShow) {\n    for (const elem of this.selectGroups) {\n      if (isShow) {\n        elem.classList.remove('hidden');\n      } else {\n        elem.classList.add('hidden');\n      }\n    }\n  }\n\n  getFormValues() {\n    return {\n      bodyPart: this.bodyPartsOptions[this.bodyPartsSelectElem.value].name,\n      muscle: this.musclesOptions[this.musclesSelectElem.value].name,\n      equipment: this.equipmentOptions[this.equipmentSelectElem.value].name,\n    };\n  }\n\n  async triggerSearchExercises() {\n    const { bodyPart, muscle, equipment } = this.getFormValues();\n    if (!bodyPart || !muscle || !equipment) {\n      return;\n    }\n\n    this.submitBtnElem.disabled = true;\n\n    try {\n      const isFound = await this.getAndRenderExercises({ page: 1 });\n      if (!isFound) {\n        iziToast.warning({\n          message:\n            'No exercises found. Try another set of muscle, body part and equipment paramaters.',\n        });\n        this.submitBtnElem.disabled = false;\n        return;\n      }\n\n      createHeadline('you choice');\n      hideHeadlineAndSearch();\n      MicroModal.close();\n      makeFilterButtonActive(youChoiceBtnElem);\n    } catch (err) {\n      const msg = `Could not fetch exercises because of error`;\n      console.error(msg, err);\n      iziToast.error({\n        message: msg,\n      });\n    } finally {\n      this.submitBtnElem.disabled = false;\n    }\n  }\n\n  async getAndRenderExercises({ page = 1 }) {\n    const { bodyPart, muscle, equipment } = this.getFormValues();\n\n    const limit = checkScreenWidth('');\n\n    console.log('Calling api with', {\n      bodyPart,\n      muscle,\n      equipment,\n      page,\n      limit,\n    });\n    const { totalPages, results } = await fetchExercises({\n      bodyPart,\n      muscle,\n      equipment,\n      page,\n      limit,\n    });\n    console.log({ results });\n\n    if (!(results || []).length) {\n      return false;\n    }\n\n    createExercisesMarkup({ results });\n    renderPagination({\n      page,\n      totalPages,\n      customListener: page => {\n        this.getAndRenderExercises({ page });\n      },\n    });\n    return true;\n  }\n}\n\nif (youChoiceBtnElem) {\n  const yourChoiceModal = new YourChoiceModal();\n  youChoiceBtnElem.addEventListener('click', () => {\n    yourChoiceModal.show();\n  });\n}\n","import axios from 'axios';\nimport { errorHandler } from './quote';\nimport iziToast from 'izitoast';\n\nconst subscribeForm = document.querySelector('.footer-sub-form');\nconst BASE_URL = 'https://your-energy.b.goit.study/api/';\n\nsubscribeForm.addEventListener('submit', subscribeHandler);\n\nasync function subscribeHandler(event) {\n  event.preventDefault();\n\n  const email = event.target.email.value;\n\n  try {\n    const { data } = await axios.post(`${BASE_URL}subscription`, { email });\n\n    subscriptionSuccessfull(data.message);\n  } catch (error) {\n    errorHandler(error.response.data.message);\n  }\n}\n\nfunction subscriptionSuccessfull(message) {\n  iziToast.success({\n    message: `${message}`,\n  });\n}\n","export function debounce(func, timeout = 300) {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n}\n","export function showEl(elem) {\n  elem.classList.remove('visually-hidden');\n}\n\nexport function hideEl(elem) {\n  elem.classList.add('visually-hidden');\n}\n","export const refs = {\n  searchClearBtnEl: document.querySelector('.js-search-form--btn__clear'),\n  searchInputEl: document.querySelector('.js-search-form--input'),\n  searchIconEl: document.querySelector('.js-search-form--btn__search'),\n  searchClearEl: document.querySelector('.js-search-form--btn__clear'),\n  searchFormEl: document.querySelector('.js-search-form'),\n};\n","import iziToast from 'izitoast';\nimport { debounce } from '../helpers/debounce';\nimport { showEl, hideEl } from '../helpers/toggleHidden';\nimport { refs } from './refs';\nimport { exercisesMarkup } from '../exercises-markup';\nimport {\n  checkScreenWidth,\n  basicUrlParams,\n  createExercisesMarkup,\n} from '../exercises';\nimport { fetchSearchData } from '../api';\nimport { renderPagination } from '../exercises';\n\nconst processChange = debounce(e => onChange(e), 400);\n\nrefs.searchClearBtnEl.addEventListener('click', onClearSearchInput);\nrefs.searchInputEl.addEventListener('input', processChange);\nrefs.searchFormEl.addEventListener('submit', onSubmitSearch);\n\nfunction onChange({ target }) {\n  if (target?.value.trim()) {\n    showEl(refs.searchClearEl);\n    hideEl(refs.searchIconEl);\n  } else {\n    hideEl(refs.searchClearEl);\n    showEl(refs.searchIconEl);\n  }\n}\n\nexport function onClearSearchInput() {\n  refs.searchInputEl.value = '';\n  hideEl(refs.searchClearEl);\n  showEl(refs.searchIconEl);\n}\n\nasync function onSubmitSearch(e) {\n  e.preventDefault();\n  const value = e.target.elements.search.value;\n  if (value.trim()) {\n    const limit = checkScreenWidth('');\n    const { totalPages, results } = await fetchSearchData({\n      bodyPart: basicUrlParams.bodypart || '',\n      muscle: basicUrlParams.muscles || '',\n      equipment: basicUrlParams.equipment || '',\n      page: basicUrlParams.page,\n      keyword: value,\n      limit,\n    });\n\n    createExercisesMarkup({ results });\n    renderPagination({\n      page: basicUrlParams.page,\n      totalPages,\n      type: 'exercises',\n    });\n  } else {\n    iziToast.warning({\n      message: 'You should type something before searching!',\n    });\n  }\n  onClearSearchInput();\n}\n","const scrollUpButton = document.getElementById('scroll-up');\n\nscrollUpButton.addEventListener('click', scrollToTop);\n\nscrollUpButton.style.display = \"none\";\n\nwindow.onscroll = function () {\n    handlerScrollUp();\n};\n\nfunction handlerScrollUp() {\n    const scrollThreshold = getScrollThreshold();\n    \n    if (document.body.scrollTop > scrollThreshold || document.documentElement.scrollTop > scrollThreshold) {\n        scrollUpButton.style.display = \"block\";\n    } else {\n        scrollUpButton.style.display = \"none\";\n    }\n}\n\nfunction getScrollThreshold() {\n    const screenWidth = window.innerWidth;\n\n    if (screenWidth < 375) {\n        return 300;\n    } else if (screenWidth < 768) {\n        return 500;\n    } else if (screenWidth < 1440) {\n        return 800;\n    } else {\n        return 1000;\n    }\n}\n\nfunction scrollToTop() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n}\n\n\n\n\n\n","const privacyTerms = document.querySelector('.footer-information-list');\n\nprivacyTerms.addEventListener('click', privacyTermsHandler);\n\nfunction privacyTermsHandler(event) {\n  const pressedBtn = event.target.classList.value;\n\n  switch (pressedBtn) {\n    case 'footer-privacy-policy':\n      openInfoModal();\n      closeBtn.addEventListener('click', closeInfoModal);\n      break;\n    case 'footer-service-terms':\n      openTermsModal();\n      termsCloseBtn.addEventListener('click', closeTermsModal);\n      break;\n  }\n}\n\nconst closeBtn = document.querySelector('.info-close-btn-id');\nconst infoBackdrop = document.querySelector('.info-backdrop-id');\nconst infoModal = document.querySelector('.info-modal');\n\nfunction openInfoModal() {\n  infoBackdrop.style.opacity = '1';\n  infoBackdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeInfoModal() {\n  infoBackdrop.style.opacity = '0';\n  infoBackdrop.classList.add('is-hidden');\n  document.body.style.overflow = '';\n  closeBtn.removeEventListener('click');\n}\n\nconst termsCloseBtn = document.querySelector('.terms-close-btn-id');\nconst termsBackdrop = document.querySelector('.terms-backdrop-id');\nconst termsModal = document.querySelector('.terms-modal');\n\ntermsCloseBtn.addEventListener('click', closeTermsModal);\n\nfunction openTermsModal() {\n  termsBackdrop.style.opacity = '1';\n  termsBackdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeTermsModal() {\n  termsBackdrop.style.opacity = '0';\n  termsBackdrop.classList.add('is-hidden');\n  document.body.style.overflow = '';\n  termsCloseBtn.removeEventListener('click');\n}\n"],"names":["capitalizeFirstLetter","str","filterMarkup","filter","name","imgURL","exercisesMarkup","rating","burnedCalories","bodyPart","target","_id","iziToast","refs","basicUrlParams","checkScreenWidth","fetchData","el","resetExercisesUrlObj","makeFilterButtonActive","type","obj","toggleLoader","fetchApiData","data","page","totalPages","_a","markupType","createFilterMarkup","renderPagination","hideHeadlineAndSearch","createExercisesMarkup","err","results","clearCategoryMarkup","markup","onTileClick","resetCategoryUrlObj","createHeadline","displayHeadlineAndSearch","clearFilterMarkup","customListener","renderPages","renderEllipsis","renderLastPage","renderFirstPage","start","end","currentPage","i","pageElement","ellipsisElement","youChoiceBtnElem","YourChoiceModal","MicroModal","muscles","bodyParts","equipment","fetchMuscles","fetchBodyParts","fetchEquipment","filters","elem","options","msg","isShow","muscle","limit","fetchExercises","yourChoiceModal","subscribeForm","BASE_URL","subscribeHandler","event","email","axios","subscriptionSuccessfull","error","errorHandler","message","debounce","func","timeout","timer","args","showEl","hideEl","processChange","onChange","onClearSearchInput","onSubmitSearch","value","fetchSearchData","scrollUpButton","scrollToTop","handlerScrollUp","scrollThreshold","getScrollThreshold","screenWidth","privacyTerms","privacyTermsHandler","openInfoModal","closeBtn","closeInfoModal","openTermsModal","termsCloseBtn","closeTermsModal","infoBackdrop","termsBackdrop"],"mappings":"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"}